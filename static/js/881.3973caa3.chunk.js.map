{"version":3,"file":"static/js/881.3973caa3.chunk.js","mappings":"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","sources":["webpack://movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","components/services/api.js","webpack://movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.moviesList}>\n      {movies.map(movie => (\n        <li key={movie.id} className={css.item}>\n          <Link\n            className={css.link}\n            to={`/movies/${movie.id}`}\n            state={{ from: location }}\n          >\n            <h2>{movie.title}</h2>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.shape),\n};\n","const API_KEY = '1ecd20ff6e4c95041ce45cabe64037fc';\nconst BASE_API = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const response = await fetch(\n      `${BASE_API}/trending/movie/day?api_key=${API_KEY}`\n    );\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    // console.error(`ERROR: ${error}`);\n    alert('Щось пішло не так... Будь ласка, спробуйте ще раз пізніше.');\n    throw error;\n  }\n};\n\nexport const fetchSearchMovies = async query => {\n  try {\n    const response = await fetch(\n      `${BASE_API}/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    // console.error(`ERROR: ${error}`);\n    alert('Щось пішло не так... Будь ласка, спробуйте ще раз пізніше.');\n    throw error;\n  }\n};\n\nexport const fetchMovie = async movie_id => {\n  try {\n    const response = await fetch(\n      `${BASE_API}/movie/${movie_id}?api_key=${API_KEY}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    // console.error(`ERROR: ${error}`);\n    alert('Щось пішло не так... Будь ласка, спробуйте ще раз пізніше.');\n    throw error;\n  }\n};\n\nexport const fetchMovieCredits = async movie_id => {\n  try {\n    const response = await fetch(\n      `${BASE_API}/movie/${movie_id}/credits?api_key=${API_KEY}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    // console.error(`ERROR: ${error}`);\n    alert('Щось пішло не так... Будь ласка, спробуйте ще раз пізніше.');\n    throw error;\n  }\n};\n\nexport const fetchMovieReviews = async movie_id => {\n  try {\n    const response = await fetch(\n      `${BASE_API}/movie/${movie_id}/reviews?api_key=${API_KEY}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    // console.error(error);\n    alert('Щось пішло не так... Будь ласка, спробуйте ще раз пізніше.');\n    throw error;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"btn\":\"Movies_btn__TlfBQ\",\"no_movies\":\"Movies_no_movies__+mkpH\"};","import React, { useState, useEffect, Suspense } from 'react';\nimport { useLocation, useSearchParams, Outlet } from 'react-router-dom';\n\nimport { fetchSearchMovies } from '../../components/services/api';\nimport MoviesList from '../../components/MoviesList/MoviesList';\n\nimport Loader from 'components/Loader/Loader';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n\n  const location = useLocation();\n  const searchQuery = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    const fetchsearchQuery = () => {\n      fetchSearchMovies(searchQuery).then(movies => {\n        if (movies.length !== 0) {\n          setMovies(movies);\n        } else {\n          alert('Nothing found.');\n          setQuery('');\n        }\n      });\n    };\n    fetchsearchQuery();\n    setMovies([]);\n  }, [searchQuery]);\n\n  function onSubmit(event) {\n    event.preventDefault();\n\n    if (query !== '') {\n      setSearchParams({ query: `${query}` });\n    } else {\n      alert('Please enter a valid value.');\n      return;\n    }\n  }\n\n  const handleChange = event => {\n    event.preventDefault();\n    setQuery(event.target.value.trim());\n  };\n\n  return (\n    <>\n      <form onSubmit={onSubmit} className={css.form}>\n        <label>\n          <input\n            className={css.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search...\"\n            value={query}\n            onChange={handleChange}\n          />\n          <button type=\"submit\" className={css.btn}>\n            Search\n          </button>\n        </label>\n      </form>\n      <Suspense fallback={<Loader />}>\n        {movies.length === 0 ? (\n          <div className={css.no_movies}>There are no movies here yet.</div>\n        ) : (\n          <MoviesList movies={movies} prevLocation={location} />\n        )}\n      </Suspense>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movies","location","useLocation","className","css","map","movie","to","id","state","from","title","API_KEY","BASE_API","fetchTrendingMovies","fetch","response","json","data","results","alert","fetchSearchMovies","query","fetchMovie","movie_id","fetchMovieCredits","fetchMovieReviews","useSearchParams","searchParams","setSearchParams","useState","setMovies","setQuery","searchQuery","get","useEffect","then","length","onSubmit","event","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","trim","Suspense","fallback","Loader","MoviesList","prevLocation","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}